{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchInfo(searchWord) {\n  const params = {\n    q: searchWord,\n    key: '43138861-aa01fee7d014e33c8f4078e7d',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return fetch(\n    `https://pixabay.com/api/?key=${params.key}&q=${params.q}&image_type=${params.image_type}&orientation=${params.orientation}&safesearch=${params.safesearch}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    })\n    .catch(error => {\n      console.error('Error fetching data: ', error);\n      throw error; \n    });\n}\n","import { fetchInfo } from './pixabay-api';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function request() {\n  const input = document.querySelector('.search');\n  const inputValue = input.value.trim();\n  return inputValue;\n}\nfunction renderImages(data) {\n  const gallery = document.querySelector('.gallery');\n  const images = data.hits.map(element => {\n    return `<li class=\"gallery-item\">\n        <a class=\"image-link\" href=\"${element.largeImageURL}\">\n          <img class=\"image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\" />\n        </a>\n        <ul class=\"about-image\">\n          <li class=\"likes\">\n            <span class=\"likes-title\">Likes</span>\n            <span class=\"likes-count\">${element.likes}</span>\n          </li>\n          <li class=\"views\">\n            <span class=\"views-title\">Views</span>\n            <span class=\"views-count\">${element.views}</span>\n          </li>\n          <li class=\"comments\">\n            <span class=\"comments-title\">Comments</span>\n            <span class=\"comments-count\">${element.comments}</span>\n          </li>\n          <li class=\"downloads\">\n            <span class=\"downloads-title\">Downloads</span>\n            <span class=\"downloads-count\">${element.downloads}</span>\n          </li>\n        </ul>\n      </li>`;\n  }).join('');\n  gallery.insertAdjacentHTML('beforeend', images);\n  new SimpleLightbox('.gallery a', { captionsData: 'alt', captionsDelay: 250 }).refresh();\n}\n\nexport function markup(searchWord) {\n  const loader = document.querySelector('.loader');\n  // Перед виконанням запиту показуємо індикатор завантаження\n  loader.style.display = 'block';\n  fetchInfo(searchWord).then(data => {\n    loader.style.display = 'none'; // Приховуємо індикатор завантаження\n    if (data.hits.length === 0) {\n      iziToast.error({\n        theme: 'dark',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        progressBarColor: '#B51B1B',\n      });\n    } else {\n      renderImages(data);\n    }\n  }).catch(error => {\n    // Приховуємо індикатор завантаження у разі помилки\n    loader.style.display = 'none';\n    iziToast.error({\n      theme: 'dark',\n      message: 'Failed to fetch images. Please try again!',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n    });\n    console.error('Error during fetch operation: ', error);\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { request, markup } from './js/render-functions';\n\nconst form = document.querySelector('.form'); \nconst gallery = document.querySelector('.gallery');\n\nfunction handleSearch(evt) {\n  evt.preventDefault();\n  const searchWord = request();\n  if (searchWord.length === 0) {\n    iziToast.error({\n      theme: 'dark',\n      message: 'The field must be filled',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n    });\n  } else {\n    gallery.innerHTML = ''; \n    markup(searchWord);\n    form.elements.search.value = ''; // Очищення поля форми після відправлення\n  }\n}\n\nform.addEventListener('submit', handleSearch);\n"],"names":["fetchInfo","searchWord","params","response","json","error","request","renderImages","data","gallery","images","element","SimpleLightbox","markup","loader","iziToast","form","handleSearch","evt"],"mappings":"wvBAAO,SAASA,EAAUC,EAAY,CACpC,MAAMC,EAAS,CACb,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACE,OAAO,MACL,gCAAgCC,EAAO,GAAG,MAAMA,EAAO,CAAC,eAAeA,EAAO,UAAU,gBAAgBA,EAAO,WAAW,eAAeA,EAAO,UAAU,EAC3J,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,wBAAyBA,CAAK,EACtCA,CACZ,CAAK,CACL,CCdO,SAASC,GAAU,CAGxB,OAFc,SAAS,cAAc,SAAS,EACrB,MAAM,KAAI,CAErC,CACA,SAASC,EAAaC,EAAM,CAC1B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAK,KAAK,IAAIG,GACpB;AAAA,sCAC2BA,EAAQ,aAAa;AAAA,oCACvBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKtCA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIVA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIfA,EAAQ,SAAS;AAAA;AAAA;AAAA,YAI1D,EAAE,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,EAC9C,IAAIE,EAAe,aAAc,CAAE,aAAc,MAAO,cAAe,GAAG,CAAE,EAAE,SAChF,CAEO,SAASC,EAAOZ,EAAY,CACjC,MAAMa,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,QACvBd,EAAUC,CAAU,EAAE,KAAKO,GAAQ,CACjCM,EAAO,MAAM,QAAU,OACnBN,EAAK,KAAK,SAAW,EACvBO,EAAS,MAAM,CACb,MAAO,OACP,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,SAC1B,CAAO,EAEDR,EAAaC,CAAI,CAEvB,CAAG,EAAE,MAAMH,GAAS,CAEhBS,EAAO,MAAM,QAAU,OACvBC,EAAS,MAAM,CACb,MAAO,OACP,QAAS,4CACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,SACxB,CAAK,EACD,QAAQ,MAAM,iCAAkCV,CAAK,CACzD,CAAG,CACH,CCzEA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCP,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASQ,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMjB,EAAaK,IACfL,EAAW,SAAW,EACxBc,EAAS,MAAM,CACb,MAAO,OACP,QAAS,2BACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,SACxB,CAAK,GAEDN,EAAQ,UAAY,GACpBI,EAAOZ,CAAU,EACjBe,EAAK,SAAS,OAAO,MAAQ,GAEjC,CAEAA,EAAK,iBAAiB,SAAUC,CAAY"}